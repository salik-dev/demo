"use strict";(self.webpackChunksite_name_here=self.webpackChunksite_name_here||[]).push([[885],{7957:function(e,l,a){a.r(l),a.d(l,{default:function(){return O}});var t=a(5861),n=a(2982),s=a(7757),r=a.n(s),o=a(5007),i=a(5444),c=a(1385),u=a(3751),d=a(422),m=a(1021),_=a(7865),f=a(95),p=a(7970),g=a(2749),b=a(7127),v=a(4970),h=a(8938),k=a(3407),E=a(4858),N=a(1333),y=a(1304),S=a(292),w=a(3592),C=a(1209),W=a(8759);function O(e){var l=this,a=e.pageContext,s=a.codexes,O=a.skills,B=a.uniques,D=a.skillTree,L=a.skillTreeStructure,I=a.paragons,A=a.paragonGlyphs,x=a.paragonBoards,T=(0,d.SN)().currentUser,j=(0,o.useState)({name:null,owner:null,class:"Barbarian",gear:{Helm:null,"Chest Armor":null,Gloves:null,Pants:null,Boots:null,Amulet:null,"Ring 1":null,"Ring 2":null,Weapon:null,Offhand:null,"Bludgeoning Weapon":null,"Slashing Weapon":null,"Dual-Wield Weapon 1":null,"Dual-Wield Weapon 2":null},skills:[null,null,null,null,null,null],skillTree:null,paragon:{boards:[{name:"Starting Board",rotation:0,x:0,y:0,glyph:null}],selectedTiles:["startingboard_r15c11"]},expertise:null,boons:{Deer:[],Eagle:[],Wolf:[],Snake:[]},summons:{"Skeletal Warriors":{spec:null,upgrade:null},"Skeletal Mages":{spec:null,upgrade:null},Golems:{spec:null,upgrade:null}},specialization:null,enchantments:[null,null],favorites:[]}),P=j[0],U=j[1],R=(0,o.useState)("Gear & Skills"),G=R[0],Z=R[1],F=(0,o.useState)(!1),M=F[0],X=F[1],q=(0,o.useState)(""),J=q[0],H=q[1],z=(0,o.useState)(""),Y=z[0],K=z[1],Q=(0,o.useState)(""),V=Q[0],$=Q[1],ee=(0,o.useState)(!1),le=ee[0],ae=ee[1],te=(0,o.useState)(!1),ne=te[0],se=te[1],re=(0,o.useState)(!1),oe=re[0],ie=re[1],ce=(0,o.useState)(!1),ue=ce[0],de=ce[1],me=(0,o.useState)(!1),_e=me[0],fe=me[1],pe=(0,o.useState)(!1),ge=pe[0],be=pe[1],ve=(0,o.useState)(!1),he=ve[0],ke=ve[1],Ee=(0,o.useState)(""),Ne=Ee[0],ye=Ee[1],Se=(0,o.useState)([]),we=Se[0],Ce=Se[1],We=(0,o.useState)([]),Oe=We[0],Be=We[1],De=(0,o.useState)(""),Le=De[0],Ie=De[1],Ae=(0,o.useState)([]),xe=Ae[0],Te=Ae[1],je=(0,o.useState)(!1),Pe=je[0],Ue=je[1],Re=(0,o.useState)(""),Ge=Re[0],Ze=Re[1],Fe=(0,o.useState)(""),Me=Fe[0],Xe=Fe[1],qe=(0,o.useState)([]),Je=qe[0],He=qe[1],ze=(0,o.useState)([]),Ye=ze[0],Ke=ze[1],Qe=(0,o.useState)(""),Ve=Qe[0],$e=Qe[1],el=(0,o.useState)(0),ll=el[0],al=el[1],tl=(0,o.useState)([]),nl=tl[0],sl=tl[1],rl=(0,o.useState)({}),ol=rl[0],il=rl[1],cl=(0,o.useState)(""),ul=cl[0],dl=cl[1],ml=(0,o.useState)([]),_l=ml[0],fl=ml[1],pl=(0,o.useState)([]),gl=pl[0],bl=pl[1],vl=(0,o.useState)(!1),hl=vl[0],kl=vl[1],El=(0,o.useState)(!1),Nl=El[0],yl=El[1],Sl=(0,o.useState)(!0),wl=Sl[0],Cl=Sl[1],Wl=(0,o.useState)(0),Ol=Wl[0],Bl=Wl[1],Dl=(0,o.useState)(0),Ll=Dl[0],Il=Dl[1],Al=(0,o.useState)(0),xl=Al[0],Tl=Al[1],jl=(0,o.useState)(0),Pl=jl[0],Ul=jl[1],Rl=(0,o.useState)(""),Gl=Rl[0],Zl=Rl[1],Fl=(0,o.useState)([]),Ml=Fl[0],Xl=Fl[1],ql=(0,o.useState)([]),Jl=ql[0],Hl=ql[1],zl=(0,o.useState)(0),Yl=zl[0],Kl=zl[1],Ql=(0,o.useState)(0),Vl=Ql[0],$l=Ql[1],ea=(0,o.useState)(""),la=ea[0],aa=ea[1],ta=(0,o.useState)(""),na=ta[0],sa=ta[1],ra=(0,o.useState)(0),oa=ra[0],ia=ra[1],ca=(0,o.useState)(!1),ua=ca[0],da=ca[1],ma=(0,o.useState)(!1),_a=ma[0],fa=ma[1],pa=(0,o.useState)(""),ga=pa[0],ba=pa[1],va=(0,o.useState)(""),ha=va[0],ka=va[1],Ea=(0,o.useState)(!1),Na=Ea[0],ya=Ea[1],Sa=function(){ae(!1),document.body.style.overflowX="unset"},wa=function(){se(!1),da(!1),document.body.style.overflowX="unset"},Ca=function(){ie(!1),Ie(""),Te([]),document.body.style.overflowX="unset"},Wa=function(e,l){l?$e(e):Ze(e),de(!0),"undefined"!=typeof window&&window.document&&(document.body.style.overflowX="hidden")},Oa=function(){de(!1),Xe(""),"number"==typeof Ge?Ze(""):$e(""),document.body.style.overflowX="unset"},Ba=function(){fe(!0),"undefined"!=typeof window&&window.document&&(document.body.style.overflowX="hidden")},Da=function(){fe(!1),document.body.style.overflowX="unset"},La=function(){be(!1),document.body.style.overflowX="unset"},Ia=function(){ke(!1),document.body.style.overflowX="unset"},Aa=function(e,l,a){var t=P;t.summons[e].spec===l&&t.summons[e].upgrade===a?(t.summons[e].spec="",t.summons[e].upgrade=""):(t.summons[e].spec=l,t.summons[e].upgrade=a),U(Object.assign({},t))},xa=function(e,l){var a=P,t=!0;Object.keys(P.boons).map((function(e){var a=P.boons[e];return a!==l&&2===a.length&&(t=!1),null})),a.boons[l].includes(e)?a.boons[l].splice(a.boons[l].indexOf(e),1):(0===a.boons[l].length||t)&&a.boons[l].push(e),U(Object.assign({},a))},Ta=function(e){var l=P;l.gear[Ne]=e,U(l),ye(""),Ie(""),ie(!1),document.body.style.overflow="unset"},ja=function(e){var l=P;"number"==typeof Ge?l.skills[Ge]=e:l.enchantments[Ve]=e,U(l),Ze(""),Xe(""),de(!1),document.body.style.overflow="unset"},Pa=function(e){var l=P;"Barbarian"===l.class?l.expertise=e:"Rogue"===l.class&&(l.specialization=e),U(l),fe(!1),document.body.style.overflow="unset"},Ua=function(e){var l=P;"favorites"in l||(l.favorites=[]),l.favorites.includes(e)?(console.log("found"),l.favorites.splice(l.favorites.indexOf(e),1)):(console.log("added"),l.favorites.push(e)),U(l),Ga()};(0,o.useEffect)((function(){var e=s.concat(B);e.sort((function(e,l){return e.name.localeCompare(l.name)})),Be(e)}),[]),(0,o.useEffect)((function(){Ga()}),[Le,Ne,xe]),(0,o.useEffect)((function(){He(O),function(){for(var e=[],l=0;l<D[P.class].length;l++)e.push(0);sl([].concat(e))}()}),[]),(0,o.useEffect)((function(){Ra()}),[Me,Ge,Ve]),(0,o.useEffect)((function(){if(T){var e=P;e.owner=T.uid,U(e)}else{var l=P;l.owner=null,U(l)}}),[T]),(0,o.useEffect)((function(){var e=O.filter((function(e){return"Combo Points"===e.name||"Inner Sight"===e.name||"Preparation"===e.name||e.display_name}));Ke(e)}),[]);var Ra=function(){var e=O.filter((function(e){var l,a,t;return(e.name.toLowerCase().includes(Me.toLowerCase())||(null==e||null===(l=e.filters)||void 0===l?void 0:l.join("").toLowerCase().includes(Me.toLowerCase()))||(null==e||null===(a=e.tags)||void 0===a?void 0:a.join("").toLowerCase().includes(Me.toLowerCase()))||(null==e||null===(t=e.extra)||void 0===t?void 0:t.join("").toLowerCase().includes(Me.toLowerCase())))&&e.class===P.class&&e.tags}));He(e)},Ga=function(){var e=Oe.filter((function(e){var l=e.type,a=e.name,t=(e.description?e.description:"")+(e.effect?e.effect:"")+(e.filters?e.filters.join(" "):""),n=!1;if(l in $a&&(n=!0),n){if(0===xe.length||xe.includes("Legendary")||xe.includes(e.type)||xe.includes("Class-Specific")&&e.class===P.class)return(a.toLowerCase().includes(Le.toLowerCase())||t.toLowerCase().includes(Le.toLowerCase())||e.location&&"codex".includes(Le.toLowerCase()))&&$a[l].includes(Ne)&&(!e.class||e.class===P.class)}else if(0===xe.length||xe.includes("Unique")||xe.includes("Class-Specific")&&e.class===P.class){if("Barbarian"===P.class)return(a.toLowerCase().includes(Le.toLowerCase())||t.toLowerCase().includes(Le.toLowerCase()))&&Ne.replace(" 1","").replace(" 2","")===l.replace("1h Axe","Dual-Wield Weapon").replace("1h Sword","Dual-Wield Weapon").replace("1h Mace","Dual-Wield Weapon").replace("2h Axe","Slashing Weapon").replace("2h Sword","Slashing Weapon").replace("2h Mace","Bludgeoning Weapon").replace("Polearm","Slashing Weapon")&&(!e.class||e.class===P.class);if("Rogue"===P.class)return(a.toLowerCase().includes(Le.toLowerCase())||t.toLowerCase().includes(Le.toLowerCase()))&&Ne.replace(" 1","").replace(" 2","")===l.replace("1h Dagger","Dual-Wield Weapon").replace("1h Sword","Dual-Wield Weapon").replace("Bow","Ranged Weapon").replace("Crossbow","Ranged Weapon")&&(!e.class||e.class===P.class);if("Sorcerer"===P.class)return(a.toLowerCase().includes(Le.toLowerCase())||t.toLowerCase().includes(Le.toLowerCase()))&&Ne.replace(" 1","").replace(" 2","")===l.replace("Wand","Weapon").replace("Staff","Weapon").replace("Focus","Offhand")&&(!e.class||e.class===P.class);if("Necromancer"===P.class)return(a.toLowerCase().includes(Le.toLowerCase())||t.toLowerCase().includes(Le.toLowerCase()))&&Ne.replace(" 1","").replace(" 2","")===l.replace("Wand","Weapon").replace("Staff","Weapon").replace("1h Dagger","Weapon").replace("1h Sword","Weapon").replace("2h Sword","Weapon").replace("1h Scythe","Weapon").replace("2h Scythe","Weapon").replace("1h Dagger","Weapon").replace("Shield","Offhand").replace("Focus","Offhand")&&(!e.class||e.class===P.class);if("Druid"===P.class)return(a.toLowerCase().includes(Le.toLowerCase())||t.toLowerCase().includes(Le.toLowerCase()))&&Ne.replace(" 1","").replace(" 2","")===l.replace("1h Mace","Weapon").replace("1h Axe","Weapon").replace("1h Sword","Weapon").replace("2h Mace","Weapon").replace("Staff","Weapon").replace("Polearm","Weapon").replace("Totem","Offhand")&&(!e.class||e.class===P.class)}return null}));Ce(e)},Za=function(){var e=(0,t.Z)(r().mark((function e(){var l,a,t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=(0,f.Z)(),$(l),(a=P).name=J,fa("loading"),!T){e.next=12;break}return e.next=8,(0,W.pl)((0,W.JU)(W.db,"users",T.uid,"builds",l),a,{merge:!0});case 8:return e.next=10,(0,W.pl)((0,W.JU)(W.db,"builds",l),a);case 10:e.next=14;break;case 12:(t=localStorage.getItem("builds"))?((t=JSON.parse(t))[l]=a,localStorage.setItem("builds",JSON.stringify(t))):((n={})[l]=a,localStorage.setItem("builds",JSON.stringify(n)));case 14:fa(!0),(0,i.navigate)("/builds/"+l+"/");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fa=function(){var e=(0,t.Z)(r().mark((function e(){var l,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""===V?(l=(0,f.Z)(),$(l)):l=V,(a=Object.assign({},P)).name=J,a.owner=null,da("loading"),e.next=7,(0,W.pl)((0,W.JU)(W.db,"builds",l),a);case 7:navigator.clipboard.writeText(Y),da(!0),$("");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ma=function(e){var l={name:null,owner:T?T.uid:null,class:e.currentTarget.innerText,gear:{Helm:null,"Chest Armor":null,Gloves:null,Pants:null,Boots:null,Amulet:null,"Ring 1":null,"Ring 2":null,Weapon:null,Offhand:null,"Bludgeoning Weapon":null,"Slashing Weapon":null,"Dual-Wield Weapon 1":null,"Dual-Wield Weapon 2":null},skills:[null,null,null,null,null,null],skillTree:null,paragon:{boards:[{name:"Starting Board",rotation:0,x:0,y:0,glyph:null}],selectedTiles:["startingboard_r15c11"]},expertise:null,boons:{Deer:[],Eagle:[],Wolf:[],Snake:[]},summons:{"Skeletal Warriors":{spec:null,upgrade:null},"Skeletal Mages":{spec:null,upgrade:null},Golems:{spec:null,upgrade:null}},specialization:null,enchantments:[null,null],favorites:[]};U(l),al(0),il({});for(var a=[],t=0;t<D[e.currentTarget.innerText].length;t++)a.push(0);sl([].concat(a))},Xa=function(e,l){e.paragon.selectedTiles=l,U(Object.assign({},e)),qa()},qa=function(){var e=P,a=e.paragon.selectedTiles,t=0,n=0,s=0,r=0,o=10*(Object.keys(e.paragon.boards).length-1);Object.keys(I[P.class]).map((function(e){var l=I[P.class][e];return a.includes(l.id)&&(l.strength&&(t+=l.strength),l.dexterity&&(n+=l.dexterity),l.intelligence&&(s+=l.intelligence),l.willpower&&(r+=l.willpower)),null}),l),n+=o,s+=o,r+=o,Bl(t+=o),Il(n),Tl(s),Ul(r),ia(a.length-1+(2===e.paragon.boards.length?2:e.paragon.boards.length>2?2*(e.paragon.boards.length-1):0))},Ja=function(e){var l=P;oa<220&&(l.paragon.boards.push({name:e,rotation:0,x:Yl,y:Vl,glyph:null}),U(Object.assign({},l)),qa()),La()},Ha=function(e){var a=P;Object.keys(a.paragon.boards).map((function(l){var t=a.paragon.boards[l];return t.name===la&&(t.glyph?t.glyph=e:oa<220&&(t.glyph=e,a.paragon.selectedTiles.push(na))),null}),l),U(Object.assign({},a)),qa(),Ia()},za=function(){var e=P;Object.keys(e.paragon.boards).map((function(l){var a=e.paragon.boards[l];return a.name===la&&(a.glyph=null,e.paragon.selectedTiles.includes(na)&&e.paragon.selectedTiles.splice(e.paragon.selectedTiles.indexOf(na),1)),null}),l),U(Object.assign({},e)),qa(),Ia()},Ya={Barbarian:["Basic","Core","Defensive","Brawling","Weapon Mastery","Ultimate"],Druid:["Basic","Core","Defensive","Companion","Wrath","Ultimate"],Necromancer:["Basic","Core","Macabre","Corpse","Curse","Ultimate","Summoning"],Rogue:["Basic","Core","Agility","Subterfuge","Imbuement","Ultimate"],Sorcerer:["Basic","Core","Defensive","Conjuration","Mastery","Ultimate"]},Ka={Barbarian:["Helm","Chest Armor","Gloves","Pants","Boots","Bludgeoning Weapon","Dual-Wield Weapon 1",null,"Amulet","Ring 1","Ring 2",null,"Slashing Weapon","Dual-Wield Weapon 2"],Druid:["Helm","Chest Armor","Gloves","Pants","Boots","Weapon",null,null,"Amulet","Ring 1","Ring 2",null,"Offhand",null],Necromancer:["Helm","Chest Armor","Gloves","Pants","Boots","Weapon",null,null,"Amulet","Ring 1","Ring 2",null,"Offhand",null],Rogue:["Helm","Chest Armor","Gloves","Pants","Boots","Ranged Weapon",null,null,"Amulet","Ring 1","Ring 2",null,"Dual-Wield Weapon 1","Dual-Wield Weapon 2"],Sorcerer:["Helm","Chest Armor","Gloves","Pants","Boots","Weapon",null,null,"Amulet","Ring 1","Ring 2",null,"Offhand",null],NoClass:[null,null,null,null,null,null,null,null,null,null,null,null,null,null]},Qa={Deer:["Prickleskin","Gift of the Stag","Wariness","Advantageous Beast"],Eagle:["Scythe Talons","Iron Feather","Swooping Attacks","Avian Wrath"],Wolf:["Packleader","Energize","Bolster","Calamity"],Snake:["Obsidian Slam","Overload","Masochistic","Calm Before the Storm"]},Va={"Skeletal Warriors":{Skirmishers:[0,1,2],Defenders:[0,1,2],Reapers:[0,1,2]},"Skeletal Mages":{Shadow:[0,1,2],Cold:[0,1,2],Bone:[0,1,2]},Golems:{Bone:[0,1,2],Blood:[0,1,2],Iron:[0,1,2]}},$a={Offensive:["Gloves","Ring 1","Ring 2","Amulet","Weapon","Bludgeoning Weapon","Slashing Weapon","Dual-Wield Weapon 1","Dual-Wield Weapon 2","Slashing Weapon","Ranged Weapon"],Defensive:["Helm","Chest Armor","Pants","Amulet","Offhand"],Resource:["Ring 1","Ring 2"],Utility:["Helm","Chest Armor","Gloves","Boots","Amulet","Offhand"],Mobility:["Boots","Amulet"]},et=new m.hJ,lt=function(){var e=(0,t.Z)(r().mark((function e(l){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.preventDefault();try{ka(""),a={url:"https://d4builds.gg/",handleCodeInApp:!0},(0,W.oo)(W.I8,ga,a).then((function(){window.localStorage.setItem("emailForSignIn",ga),ya(!0)})).catch((function(e){console.log(e)}))}catch(t){ka(t.message)}ba("");case 3:case"end":return e.stop()}}),e)})));return function(l){return e.apply(this,arguments)}}();return o.default.createElement(c.Z,{tooltipOpen:hl},o.default.createElement(u.Z,{title:"Diablo 4 Build Planner",description:"Plan and share your builds with our complete Diablo 4 Build Planner."}),o.default.createElement("div",{className:"builder"},he?o.default.createElement("button",{className:"modal__backdrop",onClick:Ia},o.default.createElement("button",{className:"builder__glyph__modal",onClick:function(e){e.stopPropagation()}},o.default.createElement("div",{className:"glyph__modal__content"},o.default.createElement("button",{onClick:Ia,className:"builder__modal__close"},o.default.createElement("img",{src:"https://rerollcdn.com/close-icon.svg",alt:"close icon"})),o.default.createElement("div",{className:"glyph__modal__header"},o.default.createElement("button",{className:"glyph__modal__button",onClick:za},"Unequip")),o.default.createElement("div",{className:"glyph__modal__list"},Object.keys(A).map((function(e){var l=A[e];return l.class!==P.class||P.paragon.boards.map((function(e){return e.glyph})).includes(l.name)?null:o.default.createElement(C.Z,{glyph:l,favorites:P.favorites,addFavorite:Ua,addGlyph:Ha})}))),o.default.createElement("div",{className:"paragon__modal__footer"})))):"",ge?o.default.createElement("button",{className:"modal__backdrop",onClick:La},o.default.createElement("button",{className:"builder__paragon__modal",onClick:function(e){e.stopPropagation()}},o.default.createElement("div",{className:"paragon__modal__content"},o.default.createElement("button",{onClick:La,className:"builder__modal__close"},o.default.createElement("img",{src:"https://rerollcdn.com/close-icon.svg",alt:"close icon"})),o.default.createElement("div",{className:"paragon__modal__header"}),o.default.createElement("div",{className:"paragon__modal__list"},Object.keys(x).map((function(e){var l=x[e];if(l.class===P.class&&!P.paragon.boards.map((function(e){return e.name})).includes(l.title)){var a=l.name.replace("Board Attachment","").replace(" Node","").replace("Normal","Common");return o.default.createElement(w.Z,{paragonBoard:l,paragonRarity:a,favorites:P.favorites,addFavorite:Ua,addParagonBoard:Ja})}return null}))),o.default.createElement("div",{className:"paragon__modal__footer"})))):"",_e?o.default.createElement("button",{className:"modal__backdrop",onClick:Da},o.default.createElement("button",{className:"builder__spec__modal",onClick:function(e){e.stopPropagation()}},o.default.createElement("div",{className:"spec__modal__content"},o.default.createElement("button",{onClick:Da,className:"builder__modal__close"},o.default.createElement("img",{src:"https://rerollcdn.com/close-icon.svg",alt:"close icon"})),o.default.createElement("div",{className:"spec__modal__header"},o.default.createElement("button",{className:"spec__modal__button",onClick:function(){return Pa("")}},"Unequip")),o.default.createElement("div",{className:"spec__modal__list"},Object.keys(Ye).map((function(e){var l=Ye[e];return l.class===P.class?Object.keys(O).map((function(e){var a=O[e];return a.name===l.name?o.default.createElement("button",{className:"spec__modal__item",onClick:function(){return Pa(a.name)}},o.default.createElement(v.Z,{skills:O,skill:a,spec:!0})):null})):null}))),o.default.createElement("div",{className:"spec__modal__footer"},"Showing ",Ye.length," Results")))):"",ue?o.default.createElement("button",{className:"modal__backdrop",onClick:Oa},o.default.createElement("button",{className:"builder__skill__modal",onClick:function(e){e.stopPropagation()}},o.default.createElement("div",{className:"skill__modal__content"},o.default.createElement("button",{className:"builder__modal__close",onClick:Oa},o.default.createElement("img",{src:"https://rerollcdn.com/close-icon.svg",alt:"close icon"})),o.default.createElement("div",{className:"skill__modal__header"},o.default.createElement(_.Z,{placeholder:"Search by name or keyword...",searchTerm:Me,setSearchTerm:Xe}),o.default.createElement("button",{className:"skill__modal__button",onClick:function(){return ja("")}},"Unequip")),o.default.createElement("div",{className:"skill__modal__list"},Object.keys(Ya[P.class]).map((function(e){var l=Ya[P.class][e];return"number"!=typeof Ge&&"Ultimate"===l?null:o.default.createElement("div",{className:"skill__modal__row"},o.default.createElement(b.ZP,{render:function(){return o.default.createElement("div",{className:"generic__tooltip"},l)},placement:"top",offset:[0,-10]},o.default.createElement("div",{className:"skill__modal__category"},o.default.createElement("img",{class:"skill__modal__category__icon",src:"https://rerollcdn.com/DIABLO4/SkillTree/category_"+l.toLowerCase().replace(/ /g,"_")+".png",alt:"skill category icon"}))),o.default.createElement("div",{className:"skill__modal__row__list"},Object.keys(Je).map((function(e){var a=Je[e];return a.tags&&a.tags[0]===l&&a.class===P.class?o.default.createElement("button",{className:"skill__modal__item"+(P.skills.includes(a.name)?" selected":""),onClick:function(){return ja(a.name)}},o.default.createElement(v.Z,{skills:O,skill:a,onlyEnchantment:"number"!=typeof Ge})):null}),this)))}),this)),o.default.createElement("div",{className:"skill__modal__footer"},"Showing ",Je.length," Results")))):"",oe?o.default.createElement("button",{className:"modal__backdrop",onClick:Ca},o.default.createElement("button",{className:"builder__gear__modal",onClick:function(e){e.stopPropagation()}},o.default.createElement("div",{className:"gear__modal__content"},o.default.createElement("button",{className:"builder__modal__close",onClick:Ca},o.default.createElement("img",{src:"https://rerollcdn.com/close-icon.svg",alt:"close icon"})),o.default.createElement("div",{className:"gear__modal__header"},o.default.createElement("div",{className:"gear__modal__header__wrapper"},o.default.createElement(_.Z,{placeholder:"Search by name, skill, etc...",searchTerm:Le,setSearchTerm:Ie}),o.default.createElement("div",{className:"gear__modal__filters"},o.default.createElement(b.ZP,{render:function(){return o.default.createElement("div",{className:"generic__tooltip"},"Filters")},placement:"top"},o.default.createElement("button",{className:"gear__modal__filters__icon"+(Pe?" active":"")+(xe.length>0?" fill":""),onClick:function(){return Ue(!Pe)}},o.default.createElement("img",{src:"https://rerollcdn.com/DIABLO4/UI/filters_icon.svg",alt:"filters icon"}))),Pe?o.default.createElement("div",{className:"gear__modal__dropdown"},["Class-Specific","Unique","Legendary","Offensive","Defensive","Mobility","Resource","Utility"].map((function(e){return o.default.createElement("button",{className:"gear__modal__dropdown__item"+(xe.includes(e)?" active":""),onClick:function(){return l=e,(a=xe).includes(l)?a.splice(a.indexOf(l),1):a.push(l),void Te((0,n.Z)(a));var l,a}},o.default.createElement("span",{className:"gear__modal__dropdown__checkbox"}),e)}))):""),o.default.createElement("button",{className:"gear__modal__button",onClick:function(){return Ta("")}},"Unequip"))),o.default.createElement("div",{className:"gear__modal__list"},Object.keys(we).map((function(e){var l=we[e];return l.description?o.default.createElement(S.Z,{selectGear:Ta,codexInfo:l,favorites:P.favorites,addFavorite:Ua,selectedGear:Object.values(P.gear)}):o.default.createElement(y.Z,{selectGear:Ta,uniqueInfo:l,favorites:P.favorites,addFavorite:Ua,selectedGear:Object.values(P.gear)})}),this)),o.default.createElement("div",{className:"gear__modal__footer"},"Showing ",we.length," Results")))):"",ne?o.default.createElement("button",{className:"modal__backdrop",onClick:wa},o.default.createElement("button",{className:"builder__modal",onClick:function(e){e.stopPropagation()}},o.default.createElement("div",{className:"builder__modal__content"},o.default.createElement("div",{className:"builder__modal__content__wrapper"},o.default.createElement("button",{className:"builder__modal__close",onClick:wa}," ",o.default.createElement("img",{src:"https://rerollcdn.com/close-icon.svg",alt:"close icon"})),o.default.createElement("div",{className:"builder__modal__title"},"Share This Build"),o.default.createElement("div",{className:"builder__modal__instructions"},"Copy the link below"),o.default.createElement("div",{className:"builder__modal__input builder__modal__input--share"},ua?"loading"===ua?"Generating link...":Y:"Getting ready to generate link..."),o.default.createElement("button",{className:"builder__modal__button btn",onClick:Fa},ua?"loading"===ua?o.default.createElement("div",{className:"loading"},o.default.createElement("div",{className:"loading__ring"},o.default.createElement("div",null),o.default.createElement("div",null),o.default.createElement("div",null),o.default.createElement("div",null))):"Link Copied!":"Copy Link")),o.default.createElement("div",{className:"builder__modal__disclaimer soft"},o.default.createElement("img",{class:"builder__modal__disclaimer__icon",src:"https://rerollcdn.com/DIABLO4/UI/warning_icon_03.svg",alt:"warning icon"}),T?"This link will snapshot your current build. If you want it to update automatically as you make changes, save it to your account first.":"This link will snapshot your current build. If you want it to update automatically as you make changes, login and save it to your account first.")))):"",le?o.default.createElement("button",{className:"modal__backdrop",onClick:Sa},o.default.createElement("button",{className:"builder__modal",onClick:function(e){e.stopPropagation()}},o.default.createElement("div",{className:"builder__modal__content"},o.default.createElement("button",{className:"builder__modal__close",onClick:Sa},o.default.createElement("img",{src:"https://rerollcdn.com/close-icon.svg",alt:"close icon"})),o.default.createElement("div",{className:"builder__modal__content__wrapper"},o.default.createElement("div",{className:"builder__modal__title"},"Create & Save Build"),o.default.createElement("div",{className:"builder__modal__instructions"},"Name Your ",o.default.createElement("b",null,P.class)," Build"),o.default.createElement("input",{className:"builder__modal__input",type:"text",placeholder:"Build Name...",value:J,onChange:function(e){H(e.target.value)},maxlength:"25"}),o.default.createElement("button",{className:"builder__modal__button btn"+(""===J?" disabled":""),onClick:Za},_a?"loading"===_a?o.default.createElement("div",{className:"loading"},o.default.createElement("div",{className:"loading__ring"},o.default.createElement("div",null),o.default.createElement("div",null),o.default.createElement("div",null),o.default.createElement("div",null))):"Build Created!":"Create Build")),T?"":o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"builder__modal__disclaimer"},o.default.createElement("img",{class:"builder__modal__disclaimer__icon",src:"https://rerollcdn.com/DIABLO4/UI/warning_icon_01.svg",alt:"warning icon"}),"You are not logged in. The build will be stored locally and won't persist through other devices."),o.default.createElement("div",{className:"app__login"},o.default.createElement("div",{className:"app__login__wrapper"},o.default.createElement("div",{className:"app__login__header"},o.default.createElement("div",{className:"app__login__title"},"Login/Register"),o.default.createElement("div",{className:"app__login__socials"},o.default.createElement("button",{className:"app__login__socials__item",onClick:function(){(0,m.rh)(W.I8,et).then(function(){var e=(0,t.Z)(r().mark((function e(l){var a,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.user,!localStorage.getItem("builds")){e.next=7;break}n=JSON.parse(localStorage.getItem("builds")),Object.keys(n).map(function(){var e=(0,t.Z)(r().mark((function e(l){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,W.pl)((0,W.JU)(W.db,"users",a.uid,"builds",l),n[l],{merge:!0});case 2:return e.next=4,(0,W.pl)((0,W.JU)(W.db,"builds",l),n[l],{merge:!0});case 4:case"end":return e.stop()}}),e)})));return function(l){return e.apply(this,arguments)}}()),localStorage.removeItem("builds"),e.next=9;break;case 7:return e.next=9,(0,W.pl)((0,W.JU)(W.db,"users",a.uid),{},{merge:!0});case 9:case"end":return e.stop()}}),e)})));return function(l){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}},o.default.createElement("img",{className:"app__login__socials__icon",src:"https://rerollcdn.com/DIABLO4/UI/google_icon.webp",alt:"google sign in"})))),o.default.createElement("div",{className:"app__login__extra"},"...or get an instant login link")),o.default.createElement("div",{className:"app__login__email"},ha&&o.default.createElement("div",{className:"auth__error"},ha),o.default.createElement("form",{className:"app__login__form",onSubmit:lt},o.default.createElement("div",{className:"searchbar"},o.default.createElement("input",{type:"email",name:"email",required:!0,value:ga,onChange:function(e){return ba(e.target.value)},placeholder:"Email Address",className:"searchbar-input"}),o.default.createElement("button",{className:"app__send__button"},o.default.createElement("img",{className:"app__send__button__icon",src:"https://rerollcdn.com/DIABLO4/UI/send_icon.svg",alt:"send email confirmation"}))))),Na?o.default.createElement("div",{className:"builder__modal__disclaimer green"},o.default.createElement("img",{class:"builder__modal__disclaimer__icon",src:"https://rerollcdn.com/DIABLO4/UI/success_icon_01.svg",alt:"success icon"}),"Link sent! Check your email to finish the login."):""))))):"",o.default.createElement("div",{className:"builder__header"},o.default.createElement("div",{className:"builder__header__class"},P.class?o.default.createElement("img",{className:"builder__header__icon",src:"https://rerollcdn.com/DIABLO4/Classes/1/"+P.class.toLowerCase()+".png",alt:"Diablo 4 "+P.class}):""),o.default.createElement("div",{className:"builder__header__title"},o.default.createElement("button",{className:"builder__header__selection"+(M?" active":""),onClick:function(){return X(!M)},disabled:hl},o.default.createElement("h2",{className:"builder__header__name"},P.class?P.class:""),o.default.createElement("img",{className:"builder__header__arrow",src:"https://rerollcdn.com/WOW/UI/dropdown-arrow.svg",alt:"Dropdown Arrow"}),M?o.default.createElement("div",{className:"builder__header__dropdown"},["Barbarian","Druid","Necromancer","Rogue","Sorcerer"].map((function(e){return e!==P.class?o.default.createElement("button",{className:"builder__header__dropdown__item",onClick:Ma},e):null}))):""),o.default.createElement("h1",{className:"builder__header__description"},"Diablo 4 Build Planner")),o.default.createElement("div",{className:"builder__header__controls"},o.default.createElement("button",{className:"builder__header__button",onClick:function(){var e=(0,f.Z)();$(e),K("https://d4builds.gg/builds/"+e+"/"),da(!1),se(!0),"undefined"!=typeof window&&window.document&&(document.body.style.overflowX="hidden")},disabled:hl},o.default.createElement("img",{className:"builder__header__button__icon",src:"https://rerollcdn.com/WOW/UI/share_icon.svg",alt:"Share Diablo 4 Build"}),"Share"),o.default.createElement("button",{className:"builder__header__button btn",onClick:function(){ae(!0),"undefined"!=typeof window&&window.document&&(document.body.style.overflowX="hidden")},disabled:hl},"Save Build"))),o.default.createElement("div",{className:"builder__navigation"},o.default.createElement("div",{className:"builder__navigation__links"},o.default.createElement("button",{className:"builder__navigation__link"+("Gear & Skills"===G?" active":""),onClick:function(){return Z("Gear & Skills")},disabled:hl},o.default.createElement("img",{className:"builder__header__button__icon",src:"https://rerollcdn.com/DIABLO4/UI/gear_skills.png",alt:"Diablo 4 Build Gear & Skills"}),o.default.createElement("span",null,"Gear & Skills")),o.default.createElement("button",{className:"builder__navigation__link"+("Skill Tree"===G?" active":""),onClick:function(){return Z("Skill Tree")},disabled:hl},o.default.createElement("img",{className:"builder__header__button__icon",src:"https://rerollcdn.com/DIABLO4/UI/skill_tree.png",alt:"Diablo 4 Build Skill Tree"}),o.default.createElement("span",null,"Skill Tree")),o.default.createElement("button",{className:"builder__navigation__link"+("Paragon Boards"===G?" active":""),onClick:function(){return Z("Paragon Boards")}},o.default.createElement("img",{className:"builder__header__button__icon",src:"https://rerollcdn.com/DIABLO4/UI/paragon.png",alt:"Diablo 4 Build Paragon Boards"}),o.default.createElement("span",null,"Paragon Boards ",o.default.createElement("b",null,"NEW")))),o.default.createElement("div",{className:"builder__navigation__controls"},o.default.createElement("button",{className:"builder__navigation__edit",onClick:function(){if("Gear & Skills"===G){var e=P;e.gear={Helm:null,"Chest Armor":null,Gloves:null,Pants:null,Boots:null,Amulet:null,"Ring 1":null,"Ring 2":null,Weapon:null,Offhand:null,"Bludgeoning Weapon":null,"Slashing Weapon":null,"Dual-Wield Weapon 1":null,"Dual-Wield Weapon 2":null},e.skills=[null,null,null,null,null,null],e.expertise=null,e.boons={Deer:[],Eagle:[],Wolf:[],Snake:[]},e.summons={"Skeletal Warriors":{spec:null,upgrade:null},"Skeletal Mages":{spec:null,upgrade:null},Golems:{spec:null,upgrade:null}},e.specialization=null,e.enchantments=[null,null],U(Object.assign({},e))}else if("Skill Tree"===G){var l=P;l.skillTree=null,U(Object.assign({},l)),yl(!1),al(0),il({});for(var a=[],t=0;t<nl.length;t++)a.push(0);sl(a)}else if("Paragon Boards"===G){var n=P;n.paragon={boards:[{name:"Starting Board",rotation:0,x:0,y:0,glyph:null}],selectedTiles:["startingboard_r15c11"]},U(Object.assign({},n)),qa()}document.body.style.overflowX="unset"},disabled:hl},o.default.createElement("img",{className:"builder__header__button__icon",src:"https://rerollcdn.com/WOW/UI/reset_icon.svg",alt:"Diablo 4 Edit Build"}),o.default.createElement("span",null,"Clear")))),o.default.createElement("div",{className:"builder__content"},"Gear & Skills"===G?o.default.createElement("div",{className:"builder__gear"},o.default.createElement("div",{className:"builder__gear__items"},Object.keys(Ka[P.class?P.class:"NoClass"]).map((function(e){var l=Ka[P.class?P.class:"NoClass"][e];return l?o.default.createElement("div",{className:"builder__gear__item "+(Number(e)<=6?"left":"right")+(P.gear[l]?"":" empty")+(l.includes("Weapon")?" weapon":"")+(P.gear[l]&&Object.values(P.gear).filter((function(e){return e===P.gear[l]})).length>1?" duplicate":"")},o.default.createElement("button",{className:"builder__gear__icon__wrapper",onClick:function(){return ye(l),ie(!0),void("undefined"!=typeof window&&window.document&&(document.body.style.overflowX="hidden"))}},P.gear[l]?Object.keys(Oe).map((function(e){var a=Oe[e];return a.name===P.gear[l]?a.description?o.default.createElement(g.Z,{codexInfo:a}):o.default.createElement(p.Z,{uniqueInfo:a}):null}),this):o.default.createElement("img",{className:"builder__gear__icon",src:"https://rerollcdn.com/DIABLO4/Uniques/"+l.toLowerCase().replace(/ /g,"_")+".png",alt:"Diablo 4 "+l+" Slot"})),o.default.createElement("div",{className:"builder__gear__info"},o.default.createElement("div",{className:"builder__gear__name"},P.gear[l]?P.gear[l]:l),o.default.createElement("div",{className:"builder__gear__slot"},P.gear[l]?l:"Empty"))):o.default.createElement("div",{className:"builder__gear__item disabled "+(Number(e)<=6?"left":"right")},o.default.createElement("div",{className:"builder__gear__icon__wrapper"}))}),this)),o.default.createElement("div",{className:"builder__gear__divider"}),o.default.createElement("div",{className:"builder__skills"},o.default.createElement("div",{className:"builder__skills__section"},o.default.createElement("div",{className:"builder__skills__title"},"Skills"),o.default.createElement("div",{className:"builder__skills__list"},Object.keys(P.skills).map((function(e){var l=P.skills[e];return o.default.createElement("button",{className:"builder__skill"+(l?"":" empty")+(l&&P.skills.filter((function(e){return e===l})).length>1?" duplicate":""),onClick:function(){return Wa(Number(e),!1)}},l?Object.keys(O).map((function(e){var a=O[e];return a.name===l?o.default.createElement(v.Z,{skills:O,skill:a}):null})):o.default.createElement("img",{className:"builder__skill__icon",src:"https://rerollcdn.com/DIABLO4/UI/empty_skill.png",alt:"empty skill"}))}),this))),"Barbarian"===P.class?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"builder__skills__divider"}),o.default.createElement("div",{className:"builder__skills__section"},o.default.createElement("div",{className:"builder__skills__title"},"Expertise"),o.default.createElement("div",{className:"builder__skills__list"},o.default.createElement("button",{className:"builder__skill small"+(P.expertise?"":" empty"),onClick:Ba},P.expertise?Object.keys(O).map((function(e){var l=O[e];return l.name===P.expertise?o.default.createElement(v.Z,{skills:O,skill:l}):null})):o.default.createElement("img",{className:"builder__skill__icon",src:"https://rerollcdn.com/DIABLO4/UI/empty_skill.png",alt:"empty skill"}))))):"","Rogue"===P.class?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"builder__skills__divider"}),o.default.createElement("div",{className:"builder__skills__section"},o.default.createElement("div",{className:"builder__skills__title"},"Specialization"),o.default.createElement("div",{className:"builder__skills__list"},o.default.createElement("button",{className:"builder__skill"+(P.specialization?"":" empty"),onClick:Ba},P.specialization?Object.keys(O).map((function(e){var l=O[e];return l.name===P.specialization?o.default.createElement(v.Z,{skills:O,skill:l}):null})):o.default.createElement("img",{className:"builder__skill__icon",src:"https://rerollcdn.com/DIABLO4/UI/empty_skill.png",alt:"empty skill"}))))):"","Sorcerer"===P.class?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"builder__skills__divider"}),o.default.createElement("div",{className:"builder__skills__section"},o.default.createElement("div",{className:"builder__skills__title"},"Enchantments"),o.default.createElement("div",{className:"builder__skills__list"},P.enchantments?Object.keys(P.enchantments).map((function(e){var l=P.enchantments[e];return o.default.createElement("button",{className:"builder__skill"+(l?"":" empty"),onClick:function(){return Wa(Number(e),!0)}},l?Object.keys(O).map((function(e){var a=O[e];return a.name===l?o.default.createElement(v.Z,{skills:O,skill:a,onlyEnchantment:!0}):null})):o.default.createElement("img",{className:"builder__skill__icon",src:"https://rerollcdn.com/DIABLO4/UI/empty_skill.png",alt:"empty skill"}))}),this):""))):"","Druid"===P.class?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"builder__gear__divider"}),o.default.createElement("div",{className:"builder__skills__section full"},o.default.createElement("div",{className:"builder__skills__title"},"Spirit Boons"),o.default.createElement("div",{className:"builder__skills__list column boons"},Object.keys(Qa).map((function(e){var l=Qa[e],a=e;return o.default.createElement("div",{className:"builder__skills__boons"},o.default.createElement(b.ZP,{render:function(){return o.default.createElement("div",{className:"generic__tooltip"},a)},placement:"top"},o.default.createElement("div",{className:"builder__skills__boon category"+(P.boons[a].length>1?" active":"")},o.default.createElement("img",{className:"builder__skills__boon__background",src:"https://rerollcdn.com/DIABLO4/Boons/category.png",alt:a+" background"}),o.default.createElement("img",{className:"builder__skills__boon__background selected",src:"https://rerollcdn.com/DIABLO4/Boons/category_active.png",alt:a+" selected background"}),o.default.createElement("img",{className:"builder__skills__boon__icon",src:"https://rerollcdn.com/DIABLO4/Boons/"+a.toLowerCase().replace(/ /g,"_")+".png",alt:a}))),Object.keys(l).map((function(e){var t=l[e];return o.default.createElement(k.Z,{skills:O,setBoon:xa,activeBoons:P.boons[a],boonCategory:a,boon:t})}),this))}),this)))):"","Necromancer"===P.class?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"builder__gear__divider"}),o.default.createElement("div",{className:"builder__skills__section full"},o.default.createElement("div",{className:"builder__skills__summons"},Object.keys(Va).map((function(e){var l=Va[e],a=e;return o.default.createElement("div",{className:"builder__skills__summons__section"},o.default.createElement("div",{className:"builder__skills__title"},a),o.default.createElement("div",{className:"builder__skills__list column summons"},Object.keys(l).map((function(e){var t=l[e],n=e;return o.default.createElement("div",{className:"builder__skills__boons summons"},o.default.createElement(h.Z,{skills:O,summonType:a,summonSpec:n,activeSpec:P.summons[a].spec}),Object.keys(t).map((function(e){var l=t[e];return o.default.createElement(h.Z,{setSummon:Aa,skills:O,summonType:a,summonSpec:n,activeSpec:P.summons[a].spec,summonUpgrade:l,activeUpgrade:P.summons[a].upgrade})}),this))}),this)))}),this)))):"")):"","Skill Tree"===G?o.default.createElement(E.Z,{skillTree:D[P.class],skillTreeStructure:L[P.class],gameClass:P.class.toLowerCase(),skills:O,showInGame:wl,setShowInGame:Cl,totalPoints:ll,setTotalPoints:al,shareSkills:nl,setShareSkills:sl,sectionTotals:ol,setSectionTotals:il,searchTerm:ul,setSearchTerm:dl,filtersArr:_l,setFiltersArr:fl,filteredSkills:gl,setFilteredSkills:bl,tooltipOpen:hl,setTooltipOpen:kl,copied:Nl,setIsCopied:yl,setBuild:U,build:P}):"","Paragon Boards"===G?o.default.createElement(N.Z,{paragons:I[P.class],tooltipOpen:hl,setBuild:U,build:P,addParagonTile:function(e,l){var a=P,t=a.paragon.selectedTiles;2===e.button?t.includes(l.id)&&(t.splice(t.indexOf(l.id),1),Xa(a,t)):0===e.button&&(t.includes(l.id)?(t.splice(t.indexOf(l.id),1),Xa(a,t)):(!l.requires||t.some((function(e){var a;return null===(a=l.requires)||void 0===a?void 0:a.includes(e)}))||l.id.includes("r11c2")||l.id.includes("r11c20")||l.id.includes("r2c11")&&"Starting Board"!==l.board||l.id.includes("r20c11"))&&!t.includes(l.id)&&oa<220&&(t.push(l.id),Xa(a,t)))},paragonStrength:Ol,paragonDexterity:Ll,paragonIntelligence:xl,paragonWillpower:Pl,totalPoints:oa,rotateParagonBoard:function(e){var a=P;Object.keys(a.paragon.boards).map((function(l){var t=a.paragon.boards[l];return t.name===e&&(t.rotation+=90),null}),l),U(Object.assign({},a))},deleteParagonBoard:function(e){var a=P,t=a.paragon.selectedTiles,n=null;Object.keys(a.paragon.boards).map((function(l){return a.paragon.boards[l].name===e&&(n=l),null}),l);var s=t.filter((function(l){return-1===l.indexOf(e.replace(/ /g,"").toLowerCase())}));a.paragon.selectedTiles=s,a.paragon.boards.splice(n,1),U(Object.assign({},a)),qa()},openParagonModal:function(e,l){Kl(e),$l(l),be(!0),"undefined"!=typeof window&&window.document&&(document.body.style.overflowX="hidden")},paragonGlyphs:A,openGlyphModal:function(e,l,a){if(2===e.button)za();else if(0===e.button){var t=P;U(Object.assign({},t)),aa(l),sa(a),ke(!0),"undefined"!=typeof window&&window.document&&(document.body.style.overflowX="hidden")}},showGlyphModal:he,showParagonModal:ge,searchTerm:Gl,setSearchTerm:Zl,filtersArr:Ml,setFiltersArr:Xl,filteredSkills:Jl,setFilteredSkills:Hl}):"")))}}}]);