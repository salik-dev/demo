"use strict";(self.webpackChunksite_name_here=self.webpackChunksite_name_here||[]).push([[565],{5479:function(e,t,l){var a=l(5007),n=l(7127),r=l(7866),s=l(1340);t.Z=function(e){var t=e.skills,l=e.spec,c=e.onlyEnchantment,i=(0,a.useState)(!1),u=i[0],d=i[1],o=(0,a.useState)(!1),m=o[0],f=o[1];return"undefined"!=typeof window&&window.innerWidth<575.98?a.default.createElement(a.default.Fragment,null,a.default.createElement("button",{className:"build__spec__item",onClick:function(){return f(!0),void("undefined"!=typeof window&&window.document&&(document.body.style.overflow="hidden"))},tabIndex:0},l),m?a.default.createElement(s.Z,{skills:t,skill:l,mobileOverlay:!0,hideModal:function(){f(!1),document.body.style.overflow="unset"},buildSpec:!0,onlyEnchantment:c}):""):a.default.createElement(a.default.Fragment,null,u?a.default.createElement(n.ZP,{render:function(){return a.default.createElement(s.Z,{skills:t,skill:l,builds:!0,buildSpec:!0,onlyEnchantment:c})},visible:u,followCursor:!0,plugins:[r.Cv],offset:[0,30]}):"",a.default.createElement("div",{className:"build__spec__item",onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},role:"button",tabIndex:0},l))}},5511:function(e,t,l){var a=l(2982),n=l(5007),r=l(7865),s=l(5304),c=l(7127);t.Z=function(e){var t=e.searchTerm,l=e.setSearchTerm,i=e.title,u=e.selectedClass,d=e.setSelectedClass,o=e.gameFilters,m=e.filtersArr,f=e.setFiltersArr,_=e.updateResults,E=e.placeholder,v=e.networkError,b=(0,n.useState)(!1),p=b[0],g=b[1],h=["Barrier","Berserking","Bleed","Burn","Chill","Crackling Energy","Damage Reduction","Daze","Fortify","Freeze","Heal","Healthy","Immobilize","Immune","Injured","Knock Back","Knock Down","Lucky Hit","Movement Speed","Overpower","Poison","Pull","Resistance","Slow","Stealth","Stun","Thorns","Unstoppable","Vulnerable"],N=function(e){e.stopPropagation();var t=m;t.indexOf(e.currentTarget.innerText)>-1?t.splice(t.indexOf(e.currentTarget.innerText),1):t.push(e.currentTarget.innerText),f((0,a.Z)(t)),_()},k=function(e){var t=e.currentTarget;setTimeout((function(){t.contains(document.activeElement)||g(!1)}),0)};return n.default.createElement("div",{className:"page-header"},n.default.createElement("h1",{className:"page-title"},i),v?n.default.createElement(c.ZP,{render:function(){return n.default.createElement("div",{className:"generic__tooltip"},"Builds are stored locally and won't persist through other devices.",n.default.createElement("br",null),"Log in to add them to your account.")},placement:"top"},n.default.createElement("img",{src:"https://rerollcdn.com/DIABLO4/UI/warning_icon_01.svg",className:"page-header-warning",alt:"not logged in warning"})):"",t||""===t?n.default.createElement(r.Z,{placeholder:E,searchTerm:t,setSearchTerm:l}):"",o?n.default.createElement(n.default.Fragment,null,n.default.createElement("button",{className:"game__filters__btn",onClick:function(){return g(!p)},onBlur:function(e){return k(e)}},n.default.createElement("img",{src:"https://rerollcdn.com/DIABLO4/UI/filters_icon.svg",className:"game__filters__btn__icon",alt:"game filters"}),p?n.default.createElement("div",{className:"game__filters__options"},h.map((function(e){return n.default.createElement("button",{className:"game__filters__option"+(m.indexOf(e)>-1?" active":""),onClick:function(e){return N(e)}},e,n.default.createElement("span",{className:"game__filters__option__check"}))}))):""),n.default.createElement("div",{className:"game__filters__list"},m.map((function(e){return n.default.createElement("button",{className:"game__filters__item",onClick:function(e){return N(e)}},e,n.default.createElement("img",{class:"game__filters__item__close",src:"https://rerollcdn.com/close-icon.svg",alt:"close icon"}))})))):"",n.default.createElement("div",{className:"page__header__mobile"},t||""===t?n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Z,{selectedClass:u,setSelectedClass:d,mobile:!0}),n.default.createElement(r.Z,{placeholder:E,searchTerm:t,setSearchTerm:l})):"",o?n.default.createElement(n.default.Fragment,null,n.default.createElement("button",{className:"game__filters__btn",onClick:function(){return g(!p)},onBlur:function(e){return k(e)}},n.default.createElement("img",{src:"https://rerollcdn.com/DIABLO4/UI/filters_icon.svg",className:"game__filters__btn__icon",alt:"game filters"}),p?n.default.createElement("div",{className:"game__filters__options"},h.map((function(e){return n.default.createElement("button",{className:"game__filters__option"+(m.indexOf(e)>-1?" active":""),onClick:function(e){return N(e)}},e,n.default.createElement("span",{className:"game__filters__option__check"}))}))):""),n.default.createElement("div",{className:"game__filters__list"},m.map((function(e){return n.default.createElement("button",{className:"game__filters__item",onClick:function(e){return N(e)}},e,n.default.createElement("img",{class:"game__filters__item__close",src:"https://rerollcdn.com/close-icon.svg",alt:"close icon"}))})))):""))}},5304:function(e,t,l){l.d(t,{Z:function(){return s}});var a=l(5007),n=l(7127),r=function(e){var t=e.gameClass,l=e.selectedClass,r=e.setSelectedClass,s=e.mobile,c=(0,a.useState)(!1),i=c[0],u=c[1];return a.default.createElement(n.ZP,{render:function(){return a.default.createElement("div",{className:"generic__tooltip"},t)},visible:i&&s,placement:"top"},a.default.createElement("button",{className:"filters-list-item"+(t===l?" active":""),gameClass:t,onClick:function(){return function(e){r(e===l?"":e)}(t)},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},a.default.createElement("img",{className:"filters-icon"+(s?" filters-icon--mobile":""),src:"https://rerollcdn.com/DIABLO4/Classes/1/"+t.toLowerCase()+".png",alt:"Diablo 4 "+t}),s?"":t,s?"":a.default.createElement("div",{className:"filters-checkbox"})))},s=function(e){var t=e.selectedClass,l=e.setSelectedClass,n=e.mobile,s=e.scrollPosition,c=e.disclaimer,i=e.tags,u=["Barbarian","Druid","Necromancer","Rogue","Sorcerer"];return a.default.createElement("div",{className:"filters__wrapper"+(s>=(c?i?300:260:190)?" fixed":"")},a.default.createElement("div",{className:"filters"},a.default.createElement("div",{className:"filters-list"},Object.keys(u).map((function(e){var s=u[e];return a.default.createElement(r,{gameClass:s,selectedClass:t,setSelectedClass:l,mobile:n})})))))}},8624:function(e,t,l){l.r(t),l.d(t,{default:function(){return h}});var a=l(5861),n=l(7757),r=l.n(n),s=l(5007),c=l(1385),i=l(422),u=l(8759),d=l(5511),o=l(5304),m=l(7127),f=l(7866),_=l(932),E=l(1340),v=function(e){var t=e.skills,l=e.skill,a=(0,s.useState)(!1),n=a[0],r=a[1],c=(0,s.useState)(!1),i=c[0],u=c[1];return"undefined"!=typeof window&&window.innerWidth<575.98?l?s.default.createElement(s.default.Fragment,null,s.default.createElement("button",{className:"build__skill__wrapper",onClick:function(){return u(!0),void("undefined"!=typeof window&&window.document&&(document.body.style.overflow="hidden"))},tabIndex:0},s.default.createElement(_.ZP,{height:40,once:!0,offset:100},s.default.createElement("img",{src:"https://rerollcdn.com/DIABLO4/Skills/2/"+l.toLowerCase().replace(/ /g,"_")+".png",className:"build__skill__icon",alt:l}))),i?s.default.createElement(E.Z,{skills:t,skill:l,rank:5,builds:!0,isDynamic:!0,mobileOverlay:!0,hideModal:function(){u(!1),document.body.style.overflow="unset"},buildSpec:!0}):""):s.default.createElement("div",{className:"build__skill__wrapper"}):l?s.default.createElement(s.default.Fragment,null,n?s.default.createElement(m.ZP,{render:function(){return s.default.createElement(E.Z,{skills:t,skill:l,builds:!0,rank:5,isDynamic:!0,buildSpec:!0})},visible:n,followCursor:!0,plugins:[f.Cv],offset:[0,30]}):"",s.default.createElement("div",{className:"build__skill__wrapper",onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},role:"button",tabIndex:0},s.default.createElement(_.ZP,{height:40,once:!0,offset:100},s.default.createElement("img",{src:"https://rerollcdn.com/DIABLO4/Skills/2/"+l.toLowerCase().replace(/ /g,"_")+".png",className:"build__skill__icon",alt:l})))):s.default.createElement("div",{className:"build__skill__wrapper"})},b=l(5444),p=l(5479),g=function(e){var t,l,a=e.build,n=e.buildId,r=(e.codexes,e.skills),c=(e.uniques,e.paragons,(0,s.useState)(!1)),i=c[0];c[1];return(0,s.useEffect)((function(){}),[]),s.default.createElement("div",{className:"build"+(i?" active":"")},s.default.createElement("div",{className:"build__main"},s.default.createElement("div",{className:"build__left"},s.default.createElement("img",{className:"build__icon",src:"https://rerollcdn.com/DIABLO4/Classes/1/"+(null==a||null===(t=a.class)||void 0===t?void 0:t.toLowerCase())+".png",alt:"Diablo 4 "+(null==a?void 0:a.class)}),s.default.createElement("div",{className:"build__name"},s.default.createElement("h2",null,null==a?void 0:a.name),null!=a&&a.class?s.default.createElement("div",{className:"build__classes"},"Necromancer"!==(null==a?void 0:a.class)&&"Druid"!==(null==a?void 0:a.class)?s.default.createElement("b",null,"Barbarian"===(null==a?void 0:a.class)?"Exp:":"","Sorcerer"===(null==a?void 0:a.class)?"Ench:":"","Rogue"===(null==a?void 0:a.class)?"Spec:":""):null,"Sorcerer"===(null==a?void 0:a.class)?null==a?void 0:a.enchantments.map((function(e,t){return s.default.createElement("div",{className:"build__class"},0!==Number(t)?"â€¢":"","Necromancer"!==(null==a?void 0:a.class)?s.default.createElement(p.Z,{spec:e,skills:r,onlyEnchantment:"Sorcerer"===(null==a?void 0:a.class)}):e)})):"","Rogue"===(null==a?void 0:a.class)&&null!=a&&a.specialization?s.default.createElement("div",{className:"build__class"},s.default.createElement(p.Z,{spec:null==a?void 0:a.specialization,skills:r,onlyEnchantment:"Sorcerer"===(null==a?void 0:a.class)})):"","Barbarian"===(null==a?void 0:a.class)&&null!=a&&a.expertise?s.default.createElement("div",{className:"build__class"},s.default.createElement(p.Z,{spec:null==a?void 0:a.expertise,skills:r,onlyEnchantment:"Sorcerer"===(null==a?void 0:a.class)})):""):"")),s.default.createElement("div",{className:"build__mid"},null==a||null===(l=a.skills)||void 0===l?void 0:l.map((function(e){return s.default.createElement(v,{skills:r,skill:e})}))),s.default.createElement("div",{className:"build__right"},s.default.createElement(m.ZP,{render:function(){return s.default.createElement("div",{className:"generic__tooltip"},"View/Edit Build")},placement:"top"},s.default.createElement(b.Link,{to:"/builds/"+n+"/",className:"build__dropdown right"},s.default.createElement("img",{className:"build__arrow__icon",src:"https://rerollcdn.com/WOW/UI/dropdown-arrow.svg",alt:"Dropdown Arrow"}))))),i?s.default.createElement("div",{className:"build__extra"},"Extra Content"):"")};function h(e){var t=e.pageContext,l=t.skills,n=t.codexes,m=t.uniques,f=t.paragons,_=(0,i.SN)().currentUser,E=(0,s.useState)([]),v=E[0],p=E[1],h=(0,s.useState)([]),N=h[0],k=h[1],w=(0,s.useState)(""),S=w[0],C=w[1],y=(0,s.useState)(""),B=y[0],Z=y[1],L=(0,s.useState)(0),x=L[0],O=L[1],I=(0,s.useState)(!1),T=I[0],F=I[1],D=(0,s.useRef)(!0),M=function(){var e=window.pageYOffset;O(e)};(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)(r().mark((function e(){var t,l,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,u.IO)((0,u.hJ)(u.db,"users/"+_.uid+"/builds")),e.next=3,(0,u.PL)(t);case 3:l=e.sent,a=[],l.forEach((function(e){var t={};t[e.id]=e.data(),a.push(t)})),p(a),k(a),F(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(_)F(!0),e();else{var t=[];if(localStorage.getItem("builds"))if(0===JSON.parse(localStorage.getItem("builds")).length);else{var l=JSON.parse(localStorage.getItem("builds"));Object.keys(l).map((function(e){var a,n=l[e];return t.push(((a={})[e]=n,a)),null}))}p(t),k(t)}return window.addEventListener("scroll",M,{passive:!0}),function(){window.removeEventListener("scroll",M)}}),[_]),(0,s.useEffect)((function(){D.current?D.current=!1:P()}),[S,B]);var P=function(){var e=v.filter((function(e){var t,l=Object.values(e)[0],a=l.name+" "+l.class,n=null==l||null===(t=l.skills)||void 0===t?void 0:t.filter((function(e){var t;return null==e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(S.toLowerCase())}));return(!B||B===(null==l?void 0:l.class))&&(a.toLowerCase().includes(S.toLowerCase())||(null==n?void 0:n.length))}));B.length||""!==S?k(e):k(v)},A="";return A=_?T?s.default.createElement(s.default.Fragment,null,s.default.createElement(d.Z,{title:"My Builds"}),s.default.createElement("section",{className:"builds"},s.default.createElement("div",{className:"loading"},s.default.createElement("div",{className:"loading__ring"},s.default.createElement("div",null),s.default.createElement("div",null),s.default.createElement("div",null),s.default.createElement("div",null)),s.default.createElement("div",{className:"loading__text"},"Loading Builds...")))):v.length>0?s.default.createElement(s.default.Fragment,null,s.default.createElement(d.Z,{searchTerm:v.length>0?S:null,setSearchTerm:C,selectedClass:B,setSelectedClass:Z,placeholder:"Search by Build or Skill...",title:"My Builds"}),s.default.createElement(o.Z,{selectedClass:B,setSelectedClass:Z,scrollPosition:x,disclaimer:!0}),s.default.createElement("section",{className:"builds"},N.length>0?N.map((function(e){return s.default.createElement(g,{buildId:Object.keys(e)[0],build:Object.values(e)[0],uniques:m,codexes:n,skills:l,paragons:f})})):s.default.createElement("div",{className:"builds__create sm"},s.default.createElement("div",{className:"builds__create__title"},"No Builds Found.")))):s.default.createElement(s.default.Fragment,null,s.default.createElement(d.Z,{title:"My Builds"}),s.default.createElement("div",{className:"builds__create"},s.default.createElement("div",{className:"builds__create__title"},"You don't have any builds yet!"),s.default.createElement(b.Link,{to:"/build-planner/",className:"builds__create__button btn"},"Create Build"))):v.length>0?s.default.createElement(s.default.Fragment,null,s.default.createElement(d.Z,{searchTerm:v.length>0?S:null,setSearchTerm:C,selectedClass:B,setSelectedClass:Z,placeholder:"Search by Build or Skill...",title:"My Builds"}),s.default.createElement(o.Z,{selectedClass:B,setSelectedClass:Z,scrollPosition:x,disclaimer:!0}),s.default.createElement("section",{className:"builds"},N.length>0?N.map((function(e){return s.default.createElement(g,{buildId:Object.keys(e)[0],build:Object.values(e)[0],uniques:m,codexes:n,skills:l,paragons:f})})):s.default.createElement("div",{className:"builds__create sm"},s.default.createElement("div",{className:"builds__create__title"},"No Builds Found.")))):s.default.createElement(s.default.Fragment,null,s.default.createElement(d.Z,{title:"My Builds",networkError:!0}),s.default.createElement("div",{className:"builds__create"},s.default.createElement("div",{className:"builds__create__title"},"You don't have any builds yet!"),s.default.createElement(b.Link,{to:"/build-planner/",className:"builds__create__button btn"},"Create Build"))),s.default.createElement(c.Z,null,A)}}}]);